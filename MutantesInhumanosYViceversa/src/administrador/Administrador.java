package administrador;

import java.awt.Component;
import java.awt.Image;
import java.awt.Toolkit;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.WindowAdapter;
import java.awt.event.WindowEvent;
import javax.swing.JOptionPane;
import registro.Login;
import utilidades.Constantes;

/**
 *
 * @author Flor
 */
public class Administrador extends javax.swing.JFrame {

    /**
     * Constructor
     *
     */
    public Administrador() {
        initComponents();

        //Cambiamos preferencias de la tabla
        initTabla();

        //Cargamos la informacion
        cargarDatos();

        this.addWindowListener(new WindowAdapter() {
            @Override
            public void windowClosing(WindowEvent e) {
                // Se pide una confirmación antes de finalizar el programa
                int option;
                option = JOptionPane.showConfirmDialog(
                        (Component) e.getSource(),
                        "¿Estás seguro de que quieres cerrar la aplicación?",
                        "Salir",
                        JOptionPane.YES_NO_OPTION,
                        JOptionPane.QUESTION_MESSAGE);
                if (option == JOptionPane.YES_OPTION) {
                    System.exit(0);
                }
            }
        });
    }

    @Override
    public Image getIconImage() {
        Image retValue = Toolkit.getDefaultToolkit().
                getImage(ClassLoader.getSystemResource(Constantes.ICO_APP));

        return retValue;
    }

    /**
     * Cambiamos preferencias de la tabla
     */
    private void initTabla() {

        //Hacemos transparente el scroll de la tabla
        jScrollPane1.setOpaque(false);
        jScrollPane1.getViewport().setOpaque(false);

        //Cambiamos el tipo de letra de la cabecera de la tabla
        java.awt.Font fuente = new java.awt.Font("Book Antiqua", 1, 20);
        jt_tabla.getTableHeader().setFont(fuente);

        //Captura el evento de doble click para ver el mensaje
        jt_tabla.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent e) {
                if (e.getClickCount() == 2) {
                }
            }
        });

        //Captura el evento del intro en el teclado para ver el mensaje
        jt_tabla.addKeyListener(new KeyListener() {
            @Override
            public void keyPressed(KeyEvent e) {
                if (e.getKeyCode() == KeyEvent.VK_ENTER) {
                }
            }

            @Override
            public void keyTyped(KeyEvent e) {
            }

            @Override
            public void keyReleased(KeyEvent e) {
            }
        });
    }

    /**
     * Cargamos la informacion en la tabla
     *
     * @param usuario
     */
    private void cargarDatos() {

        //TODO REVISAR
        lbl_txt_email.setText("Email");
        lbl_txt_rol.setText("Rol");
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jScrollPane1 = new javax.swing.JScrollPane();
        jt_tabla = new javax.swing.JTable();
        lbl_email = new javax.swing.JLabel();
        lbl_txt_email = new javax.swing.JLabel();
        lbl_rol = new javax.swing.JLabel();
        lbl_txt_rol = new javax.swing.JLabel();
        btn_alta = new javax.swing.JButton();
        btn_baja = new javax.swing.JButton();
        btn_editar = new javax.swing.JButton();
        btn_activar = new javax.swing.JButton();
        mb_menu = new javax.swing.JMenuBar();
        m_cerrar_sesion = new javax.swing.JMenu();
        m_salir = new javax.swing.JMenu();

        setDefaultCloseOperation(javax.swing.WindowConstants.DO_NOTHING_ON_CLOSE);
        setTitle("Administración");
        setIconImage(getIconImage());
        setMinimumSize(new java.awt.Dimension(1010, 670));
        setPreferredSize(new java.awt.Dimension(1010, 670));
        setResizable(false);

        jt_tabla.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Id Usuario", "Email", "Rol", "Activo"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Integer.class, java.lang.String.class, java.lang.String.class, java.lang.Boolean.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane1.setViewportView(jt_tabla);

        lbl_email.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        lbl_email.setText("Email:");

        lbl_txt_email.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        lbl_txt_email.setText("Email");

        lbl_rol.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        lbl_rol.setText("Rol:");

        lbl_txt_rol.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        lbl_txt_rol.setText("Rol");

        btn_alta.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        btn_alta.setText("Alta");

        btn_baja.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        btn_baja.setText("Baja");
        btn_baja.setToolTipText("");

        btn_editar.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        btn_editar.setText("Editar");

        btn_activar.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        btn_activar.setText("Activar/Desactivar");

        m_cerrar_sesion.setText("Cerrar sesión");
        m_cerrar_sesion.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        m_cerrar_sesion.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                m_cerrar_sesionMouseClicked(evt);
            }
        });
        mb_menu.add(m_cerrar_sesion);

        m_salir.setText("Salir");
        m_salir.setFont(new java.awt.Font("Book Antiqua", 1, 20)); // NOI18N
        m_salir.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                m_salirMouseClicked(evt);
            }
        });
        mb_menu.add(m_salir);

        setJMenuBar(mb_menu);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(44, 44, 44)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(lbl_email)
                            .addComponent(lbl_rol))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbl_txt_rol)
                            .addComponent(lbl_txt_email))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btn_alta)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btn_baja)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btn_editar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btn_activar))
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 910, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(56, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_email)
                            .addComponent(lbl_txt_email))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lbl_rol)
                            .addComponent(lbl_txt_rol)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(btn_alta)
                        .addComponent(btn_baja)
                        .addComponent(btn_editar)
                        .addComponent(btn_activar)))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 488, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(44, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void m_cerrar_sesionMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_m_cerrar_sesionMouseClicked
        // Se pide una confirmación antes de cerrar la sesion
        int option;
        option = JOptionPane.showConfirmDialog(
                this,
                "¿Estás seguro de que quieres cerrar sesión?",
                "Cerrar sesión",
                JOptionPane.YES_NO_OPTION,
                JOptionPane.QUESTION_MESSAGE);
        if (option == JOptionPane.YES_OPTION) {
            //Ocultamos la ventana actual
            this.setVisible(false);

            //Inicializamos la ventana de login y la mostramos
            Login login = new Login();
            login.setLocationRelativeTo(null);
            login.setVisible(true);
        }
    }//GEN-LAST:event_m_cerrar_sesionMouseClicked

    private void m_salirMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_m_salirMouseClicked
        int option;
        option = JOptionPane.showConfirmDialog(
                this,
                "¿Estás seguro de que quieres cerrar la aplicación?",
                "Salir",
                JOptionPane.YES_NO_OPTION,
                JOptionPane.QUESTION_MESSAGE);
        if (option == JOptionPane.YES_OPTION) {
            System.exit(0);
        }
    }//GEN-LAST:event_m_salirMouseClicked

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btn_activar;
    private javax.swing.JButton btn_alta;
    private javax.swing.JButton btn_baja;
    private javax.swing.JButton btn_editar;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jt_tabla;
    private javax.swing.JLabel lbl_email;
    private javax.swing.JLabel lbl_rol;
    private javax.swing.JLabel lbl_txt_email;
    private javax.swing.JLabel lbl_txt_rol;
    private javax.swing.JMenu m_cerrar_sesion;
    private javax.swing.JMenu m_salir;
    private javax.swing.JMenuBar mb_menu;
    // End of variables declaration//GEN-END:variables
}
